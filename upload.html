<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fotomatis - Upload</title>

  <link rel="icon" href="Assets/fish-photobooth/favicon.png" type="image/x-icon" />
  <link rel="stylesheet" href="StyleSheets/camera.css" />
  
  <style>
    /* --- DEFINISI PALET --- */
    :root {
      --hex-cream: #f7f9dc;
      --hex-pink: #f486c6;
      --hex-magenta: #bf128c;
      --hex-dark: #390a32;

      --rgb-cream: 247, 249, 220;
      --rgb-magenta: 191, 18, 140;
      --rgb-dark: 57, 10, 50;
    }

    /* --- GLOBAL & BODY SETUP --- */
    html {
        box-sizing: border-box;
    }
    *, *:before, *:after {
        box-sizing: inherit;
    }

    body {
      background-color: var(--hex-cream);
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      margin: 0;
      
      /* PENTING: Mengatur layout agar bisa discroll */
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      
      /* Memberikan jarak aman di atas dan bawah agar tidak mentok layar HP */
      padding-top: 40px; 
      padding-bottom: 100px; 
      
      /* Mencegah scroll ke samping (horizontal) */
      overflow-x: hidden; 
      overflow-y: auto;
    }

    .main-wrapper {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 400px; /* Batas lebar agar rapi di desktop */
    }

    /* =========================== */
    /* DEVICE HEADER / TOP PART */
    /* =========================== */
    .device-case-head {
      width: 320px;
      height: 200px; 
      background-color: var(--hex-pink);
      border-radius: 40px 40px 20px 20px;

      padding: 20px 20px 0 20px; 
      
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;

      border: 1px solid var(--hex-magenta);
      box-shadow: inset 4px 4px 15px rgba(var(--rgb-cream), 0.6),
                  inset -4px -4px 15px rgba(var(--rgb-magenta), 0.5);
      
      /* Supaya tetap di atas tray */
      z-index: 10; 
    }

    .screen-bezel {
      position: relative; 
      top: -2px; 
      
      margin-top: 15px; 
      margin-bottom: 5px; 
      
      height: 90px; 
      background-color: var(--hex-dark);
      border-radius: 15px;
      border: 2px solid var(--hex-magenta);
      box-shadow: inset 2px 2px 10px rgba(0,0,0,0.5);
      overflow: hidden;

      display: flex;
      align-items: center;
      justify-content: center;
    }

    .screen-glass-reflection {
      position: absolute; top: 0; right: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg,
        rgba(255,255,255,0.1) 0%,
        rgba(255,255,255,0) 40%
      );
      pointer-events: none;
    }

    .screen-display {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .status-text {
      color: var(--hex-cream);
      font-weight: 400;
      font-size: 1.5rem;
      letter-spacing: 2px;
      margin: 0;
    }

    /* Dekor tengah */
    .middle-deco {
      position: relative; 
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 5px; 
      padding: 0 10px; 
      margin-bottom: 0; 
      height: auto; 
    }

    .brand-text {
      font-size: 1.2rem;
      color: var(--hex-cream);
      font-weight: 500;
      line-height: 1.2; 
      padding-left: 10px;
    }

    .deco-line {
      flex: 1;
      height: 2px;
      background: var(--hex-magenta);
      margin-left: 15px;
      box-shadow: 0 1px 0 rgba(255,255,255,0.3);
      padding-right: 10px;
    }

    .printer-slot {
      position: relative; 
      margin-top: 10px; 
      left: 50%;
      transform: translateX(-50%);
      width: 220px;
      height: 15px;
      background-color: var(--hex-dark);
      border-radius: 0 0 5px 5px;
      border: 2px solid var(--hex-magenta);
      border-top: none;
      z-index: 12;
      box-shadow: inset 0 5px 10px rgba(0,0,0,0.8);
    }

    /* =========================== */
    /* CANVAS TRAY AREA     */
    /* =========================== */
    .photo-tray-wrapper {
      position: relative;
      width: 260px;
      height: 620px;
      background: linear-gradient(to bottom, #2a0524 0%, var(--hex-dark) 100%);
      border: 8px solid var(--hex-magenta);
      border-top: none;
      border-radius: 0 0 30px 30px;

      margin-top: -10px;
      z-index: 5;
      overflow: hidden;
      display: flex;
      justify-content: center;
      
      /* Shadow luar agar terlihat mengambang */
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .photo-tray-wrapper::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.05) 40%,
        rgba(255,255,255,0.1) 50%,
        rgba(255,255,255,0) 60%
      );
      pointer-events: none;
      z-index: 7;
    }

    .photobooth-container {
      position: relative;
      width: 200px;
      height: 100%;
      padding-top: 20px;
      z-index: 6;
    }

    #finalCanvas {
      width: 100%;
      height: auto;
      display: block;
      box-shadow: 0 5px 20px rgba(0,0,0,0.6);
      background-color: var(--hex-cream);
      border-bottom: 10px solid #fff;
    }

    .frame-overlay {
      width: 100%;
      position: absolute;
      top: 20px;
      left: 0;
      z-index: 10;
      pointer-events: none;
    }

    /* =========================== */
    /* BUTTONS           */
    /* =========================== */
    .controls {
      display: flex;
      flex-direction: column; /* Ubah ke column agar rapi di HP */
      gap: 15px;
      margin-top: 30px;
      width: 100%;
      max-width: 300px; /* Batas lebar tombol */
      padding: 0 20px; /* Padding agar tidak mentok pinggir layar */
    }

    .btn {
      width: 100%; /* Tombol memenuhi lebar container */
      border: none;
      padding: 15px 20px;
      border-radius: 50px;
      font-weight: 800;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.15s ease;
      text-transform: uppercase;

      box-shadow:
        inset 1px 1px 1px rgba(var(--rgb-cream), 0.5),
        inset -1px -1px 2px rgba(var(--rgb-magenta), 0.9),
        0 4px 6px -1px rgba(var(--rgb-dark), 0.4),
        0 1px 0 rgba(255,255,255,0.4);
    }

    .btn-primary {
      background-color: var(--hex-magenta);
      color: var(--hex-cream);
    }

    .btn-secondary {
      background-color: var(--hex-cream);
      color: var(--hex-dark);
      border: 2px solid var(--hex-dark); /* Tambah border kontras */
    }

    .btn:active {
        transform: translateY(2px);
    }

    #uploadPhotoInput {
      display: none;
    }
  </style>
</head>

<body>
  <div class="main-wrapper">

    <div class="device-case-head">
      <div class="screen-bezel">
        <div class="screen-glass-reflection"></div>
        <div class="screen-display">
          <div class="status-text">UPLOAD</div>
        </div>
      </div>

      <div class="middle-deco">
        <div class="brand-text">Fotomatis</div>
        <div class="deco-line"></div>
      </div>

      <div class="printer-slot"></div>
    </div>

    <div class="photo-tray-wrapper">
      <div class="photobooth-container">
        <canvas id="finalCanvas" width="600" height="1800"></canvas>

        <input type="file" id="uploadPhotoInput" accept="image/*" />
        <img class="frame-overlay" src="Assets/fish-photobooth/camerapage/frame.png" alt="frame overlay" />
      </div>
    </div>

    <div class="controls">
      <button id="uploadPhoto" class="btn btn-primary">UPLOAD PHOTO 1 / 4</button>
      <button id="readyButton" class="btn btn-secondary" disabled style="display:none;">READY</button>
      <button id="backButton" class="btn btn-secondary">BACK</button>
    </div>

  </div>

  <script src="Javascripts/upload.js"></script>
</body>
</html>
